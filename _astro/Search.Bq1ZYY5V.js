import{o as re,a as le,I as N,h as ne,r as P,s as V,i as se}from"./Icon.C6HQhgR0.js";import{w as ie,x as oe,y as Z,I as B,z as $,A as j,B as ce,C as Y,D as fe,v as R,E as ue,F as de,G as ve,H as he,J as pe,K as me,L as F,M as K,N as O,O as L,P as be,Q as ge,R as U,S as _e,T as xe,U as ke,V as we,W as ye,p as Ee,l as W,n as Ie,X as Te,t as X,e as z,a as G,b as Ae,c as ee,g as C,h as m,i as T,j as A,m as H,r as S,k as Se}from"./render.CZv6gCDB.js";import{b as J}from"./input.DEMAiF-F.js";import{u as Q}from"./url-utils.DwJkwztS.js";import{I as Me}from"./zh_TW.cEkuJEx2.js";function Re(e,t){return t}function Le(e,t,a,s){for(var l=[],n=t.length,r=0;r<n;r++)ue(t[r].e,l,!0);var i=n>0&&0===l.length&&null!==a;if(i){var o=a.parentNode;de(o),o.append(a),s.clear(),y(e,t[0].prev,t[n-1].next)}ve(l,(()=>{for(var a=0;a<n;a++){var l=t[a];i||(s.delete(l.k),y(e,l.prev,l.next)),he(l.e,!i)}}))}function Ne(e,t,a,s,l,n=null){var r=e,i={flags:t,items:new Map,first:null};R&&pe();var o=null,c=!1;ie((()=>{var e=a(),u=oe(e)?e:null==e?[]:Z(e),d=u.length;if(c&&0===d)return;c=0===d;let f=!1;R&&(r.data===me!==(0===d)&&(r=F(),K(r),O(!1),f=!0));if(R){for(var v,h=null,m=0;m<d;m++){if(8===L.nodeType&&L.data===xe){r=L,f=!0,O(!1);break}var p=u[m],g=s(p,m);v=ae(L,i,h,null,p,g,m,l,t),i.items.set(g,v),h=v}d>0&&K(F())}R||Ce(u,i,r,l,t,!!(be.f&B),s);null!==n&&(0===d?o?$(o):o=j((()=>n(r))):null!==o&&ce(o,(()=>{o=null}))),f&&O(!0),a()})),R&&(r=L)}function Ce(e,t,a,s,l,n,r){var i,o,c,u,d,f=e.length,v=t.items,h=t.first,m=null,p=[],g=[];for(d=0;d<f;d+=1)if(c=r(o=e[d],d),void 0!==(u=v.get(c))){if(He(u,o,d),u.e.f&B&&$(u.e),u!==h){if(void 0!==i&&i.has(u)){if(p.length<g.length){var x,b=g[0];m=b.prev;var k=p[0],w=p[p.length-1];for(x=0;x<p.length;x+=1)q(p[x],b,a);for(x=0;x<g.length;x+=1)i.delete(g[x]);y(t,k.prev,w.next),y(t,m,k),y(t,w,b),h=b,m=w,d-=1,p=[],g=[]}else i.delete(u),q(u,h,a),y(t,u.prev,u.next),y(t,u,null===m?t.first:m.next),y(t,m,u),m=u;continue}for(p=[],g=[];null!==h&&h.k!==c;)(n||!(h.e.f&B))&&(i??=new Set).add(h),g.push(h),h=h.next;if(null===h)continue;u=h}p.push(u),m=u,h=u.next}else{m=ae(h?h.e.nodes_start:a,t,m,null===m?t.first:m.next,o,c,d,s,l),v.set(c,m),p=[],g=[],h=m.next}if(null!==h||void 0!==i){for(var S=void 0===i?[]:Z(i);null!==h;)(n||!(h.e.f&B))&&S.push(h),h=h.next;if(S.length>0){Le(t,S,null,v)}}Y.first=t.first&&t.first.e,Y.last=m&&m.e}function He(e,t,a,s){fe(e.v,t),e.i=a}function ae(e,t,a,s,l,n,r,i,o){var c=!!(o&ke)?!(o&we)?ge(l):U(l):l,u=o&_e?U(r):r,d={i:u,v:c,k:n,a:null,e:null,prev:a,next:s};try{return d.e=j((()=>i(e,c,u)),R),d.e.prev=a&&a.e,d.e.next=s&&s.e,null===a?t.first=d:(a.next=d,a.e.next=d.e),null!==s&&(s.prev=d,s.e.prev=d.e),d}finally{}}function q(e,t,a){for(var s=e.next?e.next.e.nodes_start:a,l=t?t.e.nodes_start:a,n=e.e.nodes_start;n!==s;){var r=ye(n);l.before(n),n=r}}function y(e,t,a){null===t?e.first=a:(t.next=a,t.e.next=a&&a.e),null!==a&&(a.prev=t,a.e.prev=t&&t.e)}var Be=ee('<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block\n       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>'),De=ee('<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0\n         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]\ntop-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0\n               focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <!></div>',1);function Ue(e,t){Ee(t,!1);let a=H(""),s=H(""),l=H([]);Q("/"),Q("/");let n=H(((e,t)=>{}));re((()=>{C(n,(async(e,t)=>{let a=document.getElementById("search-panel");if(!a)return;if(!e&&t)return void a.classList.add("float-panel-closed");let s=[];{const t=await pagefind.search(e);for(const e of t.results)s.push(await e.data())}s.length||!t?(t&&a.classList.remove("float-panel-closed"),C(l,s)):a.classList.add("float-panel-closed")}))}));W((()=>(m(n),m(a))),(()=>{m(n)(m(a),!0)})),W((()=>(m(n),m(s))),(()=>{m(n)(m(s),!1)})),Ie(),le();var r=De(),i=Te(r),o=T(i);N(o,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var c=A(o,2);P(c),X((()=>V(c,"placeholder",se(Me.search)))),S(i);var u=A(i,2),d=T(u);N(d,{icon:"material-symbols:search",class:"text-[1.25rem]"}),S(u);var f=A(u,2),v=T(f),h=T(v);N(h,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var p=A(h,2);P(p),S(v),Ne(A(v,2),1,(()=>m(l)),Re,((e,t)=>{var a=Be(),s=T(a),l=T(s,!0),n=A(l);N(n,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),S(s);var r=A(s,2),i=T(r);ne(i,(()=>m(t).excerpt),!1,!1),S(r),S(a),X((()=>{V(a,"href",m(t).url),Se(l,m(t).meta.title)})),G(e,a)})),S(f),J(c,(()=>m(a)),(e=>C(a,e))),z("focus",c,(()=>m(n)(m(a),!0))),z("click",u,(()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")})),J(p,(()=>m(s)),(e=>C(s,e))),G(e,r),Ae()}export{Ue as default};